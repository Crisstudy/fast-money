<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="shortcut icon" href="imagens/favicon-16x16.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Clientes</title>

    <style>
        body {
            background-color: rgb(223, 220, 220);
        }

        header {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
            overflow: hidden;
            position: relative;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        header img {
            display: block;
            width: 80%;
            height: 100%;
            border: solid 2px black;
            border-radius: 5px;
        }

        h2 {
            font-family: Arial, Helvetica, sans-serif;
            color: rgb(174, 4, 4);
            text-align: center;
        }

        form {
            width: 300px;
            background-color: rgb(20, 20, 149);
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
        }
        
        input, button {
            width: 90%;
            padding: 10px;
            margin: 10px 0;
        }

        label.seg {
            color: red;
        }

        footer {
            font-family: Arial, Helvetica, sans-serif;
            font-size: small;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <img src="imagens/WhatsApp Image 2025-02-25 at 11.00.47 (1).jpeg" alt="logo-fast-money">
    </header>
    <h2>Cadastro de Clientes <i>Fast Money</i></h2>
    <form id="cadastroForm">
        <input type="text" id="nome" placeholder="Nome completo" required><br>
        <input type="email" id="email" placeholder="E-mail" required><br>
        <input type="tel" id="telefone" placeholder="Telefone" required><br>
        <input 
            type="text" 
            id="cpf" 
            name="cpf" 
            maxlength="14" 
            pattern="\d{3}\.\d{3}.\d{3}-\d{2}" 
            placeholder="CPF:000.000.000-00" 
            required><br>
        <textarea 
            name="endereco" 
            id="end" 
            rows="3" 
            placeholder="Endereço completo" 
            required>
        </textarea>
        <input 
            type="text" 
            id="cep" 
            name="cep" 
            maxlength="9" 
            pattern="\d{5}.\d{3}" 
            placeholder="CEP:00000-000">
        <label for="Segmento" class="seg">Ramo de atividade:</label><br>
        <select name="segmento" id="segmento">
            <option value="">Selecione...</option>    
            <option value="açougue">Açougue</option>
            <option value="armarinho">Armarinho</option>
            <option value="artesao">Artesão</option>
            <option value="bar">Bar</option>
            <option value="barbearia">Barbearia</option>
            <option value="borracharia">Borracharia</option>
            <option value="cabelereiro">Cabelereiro</option>
            <option value="carpintaria">Carpintaria</option>
            <option value="chaveiro">Chaveiro</option>
            <option value="churrascaria">Churrascaria</option>
            <option value="clinica">Clínica de estética</option>
            <option value="copiadora">Copiadora</option>
            <option value="cormecio">Comércio de calçados</option>
            <option value="comercio">Comércio de roupas</option>
            <option value="comercio">Comércio de móveis e eletrodomésticos</option>
            <option value="confecçao">Confecção</option>
            <option value="distribuidora">Distribuidora</option>
            <option value="dentista">Dentista</option>
            <option value="drogaria">Drogaria e Perfumaria</option>
            <option value="ferragista">Ferragista</option>
            <option value="informatica">Informática</option>
            <option value="instituto">Instituto de beleza</option>
            <option value="locadora">Locadora</option>
            <option value="marcenaria">Marcenaria</option>
            <option value="motorista">Mototrista de aplicativo</option>
            <option value="padaria">Padaria</option>
            <option value="relojoaria">Relojoária</option>
            <option value="sacolao">Sacolão</option>
            <option value="salao">Salão de beleza</option>
            <option value="sorveteria">Sorveteria</option>
            <option value="taxista">Taxista</option>
            <option value="torneadora">Torneadora</option>
            <option value="transportadora">Transportadora</option>
            <option value="vidracaria">Vidraçaria</option>
            <option value="">Outros</option>
        </select>
        <input 
            type="text" 
            id="indicacao" 
            placeholder="Nome de quem indicou" 
            required><br>
        <button type="submit">Cadastrar</button>
    </form>
    <footer>
        
        <p class="aviso-seguranca">
            <img src="imagens/icons8-padlock-24.png" alt="cadeado">   
            Seus dados estão seguros e serão processados de acordo com nossa política de privacidade.
        </p>
    </footer>

    <script>
    document.getElementById("cadastroForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = document.getElementById("nome").value;
    const email = document.getElementById("email").value;
    const telefone = document.getElementById("telefone").value;
    const CPF = document.getElementById("cpf").value;
    const endereco = document.getElementById("end").value;
    const cep = document.getElementById("cep").value;

    const data = { name, email, telefone, CPF, endereco, cep };

    try {
        const response = await fetch("https://api-5bx1.onrender.com/submit", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });

            const result = await response.json();
            alert(result.message);
        } catch (error) {
            alert("Erro ao enviar dados: " + error.message);
        }
    });

    // Função para baixar os dados cadastrados
    async function downloadData() {
        try {
            const response = await fetch("https://api-5bx1.onrender.com/download");
            const data = await response.json();
            console.log("Dados baixados:", data);
        } catch (error) {
            alert("Erro ao baixar os dados: " + error.message);
        }
    }

     // Função para resetar os dados cadastrados
     async function resetData() {
        try {
            const response = await fetch("https://api-5bx1.onrender.com/reset");
            const result = await response.json();
            alert(result.message);
        } catch (error) {
            alert("Erro ao resetar os dados: " + error.message);
        }
     }    
    </script>

</body>
</html>